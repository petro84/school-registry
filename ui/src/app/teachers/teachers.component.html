<p-toast></p-toast>
<div class="flex flex-column h-full">
  <section>
    <h1 class="my-3 text-center">Our Teachers</h1>
    <div class="lg:px-8 md:px-6 px-4 surface-ground">
      <div class="card lg:flex lg:justify-content-center">
        <p-table
          [value]="teachers"
          [scrollable]="true"
          scrollHeight="400px"
          responsiveLayout="scroll"
          [breakpoint]="'960px'"
          [tableStyle]="{ 'min-width': '50rem' }"
        >
          <ng-template pTemplate="header" let-columns>
            <tr>
              <th></th>
              <th>Teacher Name</th>
              <th>Grade</th>
              <th>Class Size</th>
              <th>Teacher Info</th>
              <th>Students</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-teacher let-columns="columns">
            <tr>
              <td>
                <p-avatar
                  *ngIf="!teacher.avatar"
                  icon="pi pi-user"
                  size="large"
                  shape="circle"
                ></p-avatar>
                <img *ngIf="teacher.avatar" [src]="teacher.avatar"
                style="border-radius: 100%; width: 75px; height: 75px;"/>
              </td>
              <td>
                <span class="p-column-title">Teacher Name</span
                >{{ teacher.teacherName }}
              </td>
              <td>
                <span class="p-column-title">Grade</span>{{ teacher.gradeId }}
              </td>
              <td>
                <span class="p-column-title">Class Size</span>
                <p-knob
                  [(ngModel)]="teacher.students.length"
                  [min]="0"
                  [max]="teacher.maxClassSize"
                ></p-knob>
              </td>
              <td>
                <span class="p-column-title">Teacher Info</span>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-rounded"
                  (click)="openTeacherInfo(teacher)"
                >
                  <fa-icon [icon]="faChalkboardTeacher"></fa-icon>
                </button>
              </td>
              <td>
                <span class="p-column-title">Students</span>
                <button
                  pButton
                  pRipple
                  type="button"
                  class="p-button-rounded"
                  [routerLink]="['/students', teacher.teacherId]"
                >
                  <fa-icon [icon]="faBookReader"></fa-icon>
                </button>
              </td>
            </tr>
          </ng-template>
          <ng-template pTemplate="emptymessage">
            <tr>
              <td class="justify-content-center">
                No Teachers found meeting this criteria!
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
  </section>
  <section class="flex justify-content-center gap-4 mb-4">
    <button *ngIf="!adminLoggedIn"
      pButton
      pRipple
      class="p-button-raised p-button-rounded"
      [routerLink]="['/teacher']"
    >
      <fa-icon [icon]="faChalkboardTeacher" class="mx-2"></fa-icon>
      Add Teacher
    </button>
    <button
      pButton
      pRipple
      class="p-button-raised p-button-rounded"
      [routerLink]="['/student']"
    >
      <fa-icon [icon]="faBookReader" class="mx-2"></fa-icon>
      Register Student
    </button>
  </section>
</div>
